{% extends 'base.html.twig' %}

{% block title %}
	{{user.username}}'s Profile
{% endblock %}

{% block body %}
	<header>
		<nav class="nav-bar">
			{% if app.user %}
				<a href="{{ path('app_user_edit', {'id': app.user.id}) }}" class="btn">Modifier le profil</a>
				<img src="{{ asset('images/star_white.svg') }}" class="logo-nav" alt="Logo Astra">

				<a href="{{ path('app_logout') }}" class="btn-logout">
					<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="logout-svg"><path d="M7.707,8.707,5.414,11H17a1,1,0,0,1,0,2H5.414l2.293,2.293a1,1,0,1,1-1.414,1.414l-4-4a1,1,0,0,1,0-1.414l4-4A1,1,0,1,1,7.707,8.707ZM21,1H13a1,1,0,0,0,0,2h7V21H13a1,1,0,0,0,0,2h8a1,1,0,0,0,1-1V2A1,1,0,0,0,21,1Z"/></svg>
				</a>

				{% else %}
			{% endif %}
		</nav>
	</header>

	<main>

		<div class="">
			<div class="">
				<div class="">
					<img src="{{ asset(user.profilePicture) }}" alt="Photo de profil" style="max-width: 150px; max-height: 150px;">
				</div>
				<div class="">
					<h1>{{ user.username }}</h1>
					{# <p>{{ user.email }}</p> #}
				</div>

				<div class="">
					<h2>Latest Tweets</h2>
					{% for post in posts %}
						<div class="">
							<p>{{ post.content }}</p>
							<span>Posted on
								{{ post.createdAt|date('Y-m-d H:i') }}</span>
						</div>
					{% else %}
						<p>No tweets to show.</p>
					{% endfor %}
				</div>
			</div>

		</div>
		<div class="">
			<a href="{{ path('app_user_edit', {'id': user.id}) }}">edit</a>
		</div>
	</main>
	<footer>&copy; Copyright 2025 - Astra</footer>

{% endblock %}
